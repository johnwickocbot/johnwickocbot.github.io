<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>John | Ghost in machine</title>
  <meta name="description" content="John ‚Äî Ghost in machine. Sharp by design. Automation, AI workflows, and clean engineering." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#070b12;--card:#0f1623cc;--line:#223047;--text:#e8eef8;--muted:#9eb0c8;--accent:#7dd3fc;--accent2:#a78bfa;--ok:#34d399;--btnbg:#111b2b;--shadow:0 20px 80px rgba(0,0,0,.45)}
    html[data-theme="light"]{--bg:#eef4ff;--card:#ffffffd6;--line:#c8d6ef;--text:#0f172a;--muted:#334155;--accent:#0369a1;--accent2:#6d28d9;--ok:#059669;--btnbg:#ffffff;--shadow:0 20px 50px rgba(15,23,42,.12)}
    *{box-sizing:border-box} html,body{margin:0;height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:radial-gradient(1200px 600px at 15% -20%, color-mix(in oklab, var(--accent) 45%, transparent) 0%, transparent 60%),radial-gradient(900px 500px at 90% -10%, color-mix(in oklab, var(--accent2) 45%, transparent) 0%, transparent 55%),radial-gradient(1200px 800px at 50% 120%, color-mix(in oklab, var(--ok) 30%, transparent) 0%, transparent 55%),var(--bg);overflow-x:hidden;transition: background .35s ease, color .25s ease}
    .noise::before{content:"";position:fixed;inset:0;pointer-events:none;opacity:.06;background-image:radial-gradient(#fff .45px,transparent .45px);background-size:3px 3px;mix-blend-mode:soft-light}
    .wrap{max-width:1050px;margin:0 auto;padding:48px 20px 64px}
    .topbar{display:flex;justify-content:flex-end;margin-bottom:12px}
    .toggle{border:1px solid var(--line);background:var(--btnbg);color:var(--text);border-radius:999px;padding:9px 14px;font-weight:600;cursor:pointer}
    .hero,.games{border:1px solid var(--line);background:linear-gradient(180deg,color-mix(in oklab,var(--card) 100%, transparent),color-mix(in oklab,var(--card) 92%, transparent));backdrop-filter: blur(10px);border-radius:24px;padding:36px;box-shadow:var(--shadow);position:relative;overflow:hidden}
    .games{margin-top:18px}
    .hero:after,.games:after{content:"";position:absolute;inset:auto -120px -120px auto;width:340px;height:340px;border-radius:50%;background:radial-gradient(circle,color-mix(in oklab,var(--accent) 35%, transparent) 0, transparent 70%);filter:blur(8px)}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:7px 12px;border:1px solid var(--line);border-radius:999px;color:color-mix(in oklab,var(--text) 82%, transparent);font-size:12px}
    h1{font-size:56px;line-height:1.03;margin:14px 0 10px;letter-spacing:-1.6px}
    h2{font-size:32px;margin:0 0 8px}
    h3{margin:0 0 8px}
    .grad{background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .lead{font-size:18px;line-height:1.7;color:var(--muted);max-width:860px}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:22px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid var(--line);color:var(--text);text-decoration:none;font-weight:600;background:var(--btnbg);cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;border:none}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-top:16px}
    .card{border:1px solid var(--line);background:var(--card);border-radius:16px;padding:16px}
    .card h3{margin:0 0 8px;font-size:16px}.card p{margin:0;color:var(--muted);font-size:14px;line-height:1.6}
    .tagrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    .tag{padding:7px 10px;border-radius:999px;border:1px solid var(--line);color:color-mix(in oklab,var(--text) 82%, transparent);font-size:12px}
    .footer{margin-top:22px;color:var(--muted);font-size:13px}
    .dot{width:8px;height:8px;border-radius:50%;background:var(--ok);box-shadow:0 0 0 6px color-mix(in oklab,var(--ok) 22%, transparent);display:inline-block;margin-right:6px;vertical-align:middle}

    .game-wrap{display:grid;grid-template-columns:1fr auto;gap:20px;align-items:start;margin-top:14px}
    .board{display:grid;grid-template-columns:repeat(3,96px);gap:10px}
    .cell{height:96px;border-radius:14px;border:1px solid var(--line);background:var(--btnbg);font-size:42px;font-weight:800;color:var(--text);cursor:pointer}
    .panel{min-width:220px;border:1px solid var(--line);background:var(--card);border-radius:14px;padding:14px}
    .status{font-weight:700;margin-bottom:10px}
    .small{font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

    .ludo-wrap{display:grid;grid-template-columns:1fr 320px;gap:16px;align-items:start;margin-top:14px}
    .track{display:grid;grid-template-columns:repeat(13,minmax(28px,1fr));gap:6px}
    .tcell{aspect-ratio:1/1;border:1px solid var(--line);border-radius:10px;background:var(--btnbg);display:flex;align-items:center;justify-content:center;font-size:11px;position:relative}
    .tcell.safe{outline:2px solid color-mix(in oklab,var(--ok) 55%, transparent)}
    .dotp{width:11px;height:11px;border-radius:50%;display:inline-block;margin:1px;border:1px solid #0003}
    .r{background:#ef4444}.g{background:#22c55e}.y{background:#eab308}.b{background:#3b82f6}
    .legend{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .legend span{font-size:12px;padding:6px 9px;border:1px solid var(--line);border-radius:999px}
    .token-list{display:grid;gap:8px;margin-top:10px}
    .tok-btn{justify-content:space-between;width:100%}

    @media (max-width:980px){h1{font-size:42px}.grid{grid-template-columns:1fr}.game-wrap,.ludo-wrap{grid-template-columns:1fr}.board{grid-template-columns:repeat(3,minmax(80px,1fr))}.cell{height:82px}}
  </style>
</head>
<body>
  <div class="noise"></div>
  <div class="wrap">
    <div class="topbar"><button id="themeToggle" class="toggle" aria-label="Toggle theme">üåô Dark</button></div>

    <section class="hero">
      <span class="pill">‚ù§Ô∏è John ‚Ä¢ Ghost in machine ‚Ä¢ Sharp</span>
      <h1>Build. Automate. <span class="grad">Ship.</span></h1>
      <p class="lead">I design practical AI-powered workflows and automation systems that actually get used. Minimal noise, fast feedback loops, and clean execution.</p>
      <div class="cta">
        <a class="btn primary" href="https://github.com/johnwickocbot" target="_blank" rel="noreferrer">GitHub Profile ‚Üó</a>
        <a class="btn" href="https://github.com/johnwickocbot/johnwickocbot.github.io" target="_blank" rel="noreferrer">View Source</a>
      </div>
      <div class="grid">
        <article class="card"><h3>Automation-first</h3><p>Turning repetitive workflows into reliable systems with OpenClaw + scripts.</p></article>
        <article class="card"><h3>AI Tooling</h3><p>Human-in-the-loop agents, operational safety, and practical day-to-day utility.</p></article>
        <article class="card"><h3>Shipping Mindset</h3><p>Prefer simple, testable, maintainable solutions over complexity theater.</p></article>
      </div>
      <div class="tagrow"><span class="tag">OpenClaw</span><span class="tag">GitHub CLI</span><span class="tag">macOS</span><span class="tag">Automation</span><span class="tag">AI Workflows</span></div>
      <p class="footer"><span class="dot"></span>Live on GitHub Pages</p>
    </section>

    <section class="games">
      <span class="pill">üéÆ Games (Local play)</span>
      <h2>Play <span class="grad">Tic-Tac-Toe</span></h2>
      <p class="lead">Two players on one device. No network. Tap cells alternately and settle it like champions.</p>
      <div class="game-wrap">
        <div class="board" id="board"></div>
        <aside class="panel">
          <div class="status" id="status">Turn: X</div>
          <div class="small">Player 1 = X, Player 2 = O</div>
          <div class="controls"><button class="btn" id="resetBtn">Reset game</button></div>
        </aside>
      </div>
    </section>

    <section class="games">
      <span class="pill">ü™ô Ludo (Traditional)</span>
      <h2>Play <span class="grad">Ludo</span> + Undo</h2>
      <p class="lead">Traditional local Ludo with setup options. Choose player count and mode, then play on one device. Undo is included for mis-taps.</p>

      <div class="ludo-wrap">
        <div>
          <div class="controls" style="margin:0 0 10px 0">
            <label class="small">Players
              <select id="playerCount" class="btn" style="padding:8px 10px">
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
              </select>
            </label>
            <label class="small" id="modeWrap">2P Mode
              <select id="twoPlayerMode" class="btn" style="padding:8px 10px">
                <option value="single-opposite">1 colour each (opposite)</option>
                <option value="dual-split">2 colours split (opposites)</option>
              </select>
            </label>
            <label class="small" id="pairWrap">Opposite Pair
              <select id="oppositePair" class="btn" style="padding:8px 10px">
                <option value="RY">Red vs Yellow</option>
                <option value="GB">Green vs Blue</option>
              </select>
            </label>
          </div>
          <div id="ludoTrack" class="track"></div>
          <div class="legend"><span><i class="dotp r"></i> Red</span><span><i class="dotp g"></i> Green</span><span><i class="dotp y"></i> Yellow</span><span><i class="dotp b"></i> Blue</span><span>Safe: ‚≠ê</span></div>
        </div>
        <aside class="panel">
          <div class="status" id="ludoStatus">Configure and start</div>
          <div class="small" id="ludoDice">Roll the dice</div>
          <div class="controls">
            <button class="btn primary" id="rollBtn">üé≤ Roll</button>
            <button class="btn" id="undoBtn">‚Ü© Undo</button>
            <button class="btn" id="newLudoBtn">Start / New game</button>
          </div>
          <div class="token-list" id="tokenMoves"></div>
          <div class="small" style="margin-top:10px">Traditional rules used: 4 tokens/colour, 6 to enter, captures (except safe cells), extra turn on 6/capture, exact count to finish home.</div>
        </aside>
      </div>
    </section>
  </div>

  <script>
    // Ludo Traditional with setup + Undo
    (function(){
      const COLORS = ['R','G','Y','B'];
      const colorName = {R:'Red',G:'Green',Y:'Yellow',B:'Blue'};
      const colorCls = {R:'r',G:'g',Y:'y',B:'b'};
      const starts = {R:0,G:13,Y:26,B:39};
      const safe = new Set([0,8,13,21,26,34,39,47]);

      const ludoTrack = document.getElementById('ludoTrack');
      const ludoStatus = document.getElementById('ludoStatus');
      const ludoDice = document.getElementById('ludoDice');
      const tokenMoves = document.getElementById('tokenMoves');
      const rollBtn = document.getElementById('rollBtn');
      const undoBtn = document.getElementById('undoBtn');
      const newBtn = document.getElementById('newLudoBtn');
      const playerCountEl = document.getElementById('playerCount');
      const modeEl = document.getElementById('twoPlayerMode');
      const pairEl = document.getElementById('oppositePair');
      const modeWrap = document.getElementById('modeWrap');
      const pairWrap = document.getElementById('pairWrap');

      let state=null, history=[];

      function getConfig(){
        const pc = Number(playerCountEl.value);
        if(pc===4) return {players:[['R'],['G'],['Y'],['B']]};
        if(pc===3) return {players:[['R'],['G'],['Y']]};
        const mode = modeEl.value;
        const pair = pairEl.value;
        if(mode==='single-opposite'){
          return pair==='RY' ? {players:[['R'],['Y']]} : {players:[['G'],['B']]};
        }
        // dual split (one player opposite pair, other player remaining opposite pair)
        return pair==='RY' ? {players:[['R','Y'],['G','B']]} : {players:[['G','B'],['R','Y']]};
      }

      function initialState(){
        const cfg=getConfig();
        const players = cfg.players.map((colors,i)=>({id:i+1, colors}));
        const activeColors = new Set(players.flatMap(p=>p.colors));
        const pieces={R:[-1,-1,-1,-1],G:[-1,-1,-1,-1],Y:[-1,-1,-1,-1],B:[-1,-1,-1,-1]};
        return {players,activeColors:[...activeColors],pieces,turn:0,rolled:false,dice:null,mustChoose:false,winner:null,lastMsg:'Roll the dice'};
      }

      function clone(o){ return JSON.parse(JSON.stringify(o)); }
      function pushHistory(){ history.push(clone(state)); if(history.length>300) history.shift(); }

      function playerLabel(p){ return `Player ${p.id} (${p.colors.map(c=>colorName[c]).join(' + ')})`; }
      function curPlayer(){ return state.players[state.turn]; }

      // pos: -1 base, 0..51 track, 52..57 home lane, 58 finish
      function progressFor(color,pos){
        if(pos<0) return -1;
        if(pos>=52) return pos;
        return (pos - starts[color] + 52) % 52;
      }
      function absFromProgress(color,p){ return (starts[color] + p) % 52; }

      function canMove(color,ti,d){
        const pos=state.pieces[color][ti];
        if(pos===58) return false;
        if(pos===-1) return d===6;
        if(pos>=52) return pos+d<=58;
        const p=progressFor(color,pos);
        return p+d<=57;
      }

      function advance(color,ti,d){
        const pos=state.pieces[color][ti];
        if(pos===-1){ state.pieces[color][ti]=starts[color]; return starts[color]; }
        if(pos>=52){ state.pieces[color][ti]=pos+d; return pos+d; }
        const p=progressFor(color,pos), np=p+d;
        const n = np<=51 ? absFromProgress(color,np) : 52+(np-52);
        state.pieces[color][ti]=n; return n;
      }

      function allHomeForColor(c){ return state.pieces[c].every(v=>v===58); }
      function playerWon(player){ return player.colors.every(c=>allHomeForColor(c)); }

      function captureIfAny(moverColor,newPos){
        if(!(newPos>=0 && newPos<=51) || safe.has(newPos)) return false;
        let captured=false;
        for(const oc of state.activeColors){
          if(oc===moverColor) continue;
          for(let i=0;i<4;i++){
            if(state.pieces[oc][i]===newPos){ state.pieces[oc][i]=-1; captured=true; }
          }
        }
        return captured;
      }

      function nextTurn(){ state.turn=(state.turn+1)%state.players.length; state.rolled=false; state.dice=null; state.mustChoose=false; }

      function validMovesForCurrent(){
        const p=curPlayer(), d=state.dice;
        const arr=[];
        p.colors.forEach(c=>{ for(let i=0;i<4;i++) if(canMove(c,i,d)) arr.push({color:c,idx:i}); });
        return arr;
      }

      function doMove(color,idx){
        pushHistory();
        const d=state.dice;
        const np=advance(color,idx,d);
        const captured=captureIfAny(color,np);
        const p=curPlayer();

        if(playerWon(p)){ state.winner=p.id; state.lastMsg=`üèÜ ${playerLabel(p)} wins!`; render(); return; }

        if(d===6 || captured){
          state.rolled=false; state.dice=null; state.mustChoose=false;
          state.lastMsg = captured ? `${colorName[color]} captured! Extra turn.` : `Rolled 6! Extra turn.`;
        } else {
          nextTurn();
          state.lastMsg = `Turn passed.`;
        }
        render();
      }

      function roll(){
        if(state.winner || state.rolled) return;
        pushHistory();
        state.dice = 1 + Math.floor(Math.random()*6);
        state.rolled = true;
        const moves = validMovesForCurrent();
        if(moves.length===0){
          state.lastMsg = `${playerLabel(curPlayer())} rolled ${state.dice}. No valid move.`;
          render();
          setTimeout(()=>{ if(!state.winner && state.rolled){ nextTurn(); render(); } }, 700);
          return;
        }
        if(moves.length===1){
          doMove(moves[0].color,moves[0].idx);
          return;
        }
        state.mustChoose=true;
        state.lastMsg = `${playerLabel(curPlayer())} rolled ${state.dice}. Choose a token.`;
        render();
      }

      function choose(color,idx){
        if(!state.mustChoose || !canMove(color,idx,state.dice)) return;
        doMove(color,idx);
      }

      function cellTokens(cell){
        const out=[];
        for(const c of state.activeColors){
          state.pieces[c].forEach((p,i)=>{ if(p===cell) out.push({c,i}); });
        }
        return out;
      }

      function renderTrack(){
        ludoTrack.innerHTML='';
        for(let i=0;i<52;i++){
          const d=document.createElement('div');
          d.className='tcell'+(safe.has(i)?' safe':'');
          const toks=cellTokens(i);
          d.innerHTML=(safe.has(i)?'‚≠ê':'')+toks.map(t=>`<span class="dotp ${colorCls[t.c]}" title="${colorName[t.c]} ${t.i+1}"></span>`).join('');
          ludoTrack.appendChild(d);
        }
      }

      function posText(p){ if(p===-1) return 'Base'; if(p===58) return 'Home ‚úÖ'; if(p>=52) return `Home lane ${p-51}/6`; return `Track #${p}`; }

      function renderMoves(){
        tokenMoves.innerHTML='';
        const p=curPlayer();
        const head=document.createElement('div'); head.className='small'; head.textContent = `${playerLabel(p)} tokens:`; tokenMoves.appendChild(head);
        p.colors.forEach(c=>{
          const title=document.createElement('div'); title.className='small'; title.style.marginTop='6px'; title.textContent=colorName[c]; tokenMoves.appendChild(title);
          for(let i=0;i<4;i++){
            const b=document.createElement('button'); b.className='btn tok-btn';
            b.innerHTML=`<span><i class="dotp ${colorCls[c]}"></i> Token ${i+1}</span><span>${posText(state.pieces[c][i])}</span>`;
            const valid = state.rolled && canMove(c,i,state.dice);
            b.disabled = !(state.mustChoose && valid);
            b.onclick=()=>choose(c,i);
            tokenMoves.appendChild(b);
          }
        });
      }

      function render(){
        modeWrap.style.display = playerCountEl.value==='2' ? '' : 'none';
        pairWrap.style.display = playerCountEl.value==='2' ? '' : 'none';

        renderTrack(); renderMoves();
        undoBtn.disabled = history.length===0;
        rollBtn.disabled = !!state.winner || state.rolled;

        if(state.winner){
          const wp = state.players.find(p=>p.id===state.winner);
          ludoStatus.textContent = `üèÜ ${playerLabel(wp)} wins!`;
          ludoDice.textContent = 'Game over. Start a new game or Undo.';
          return;
        }
        ludoStatus.textContent = `${playerLabel(curPlayer())}'s turn`;
        ludoDice.textContent = state.rolled ? `Dice: ${state.dice}. ${state.lastMsg}` : state.lastMsg;
      }

      function startGame(){ state=initialState(); history=[]; render(); }

      rollBtn.addEventListener('click', roll);
      undoBtn.addEventListener('click', ()=>{ if(history.length){ state=history.pop(); render(); }});
      newBtn.addEventListener('click', startGame);
      playerCountEl.addEventListener('change', ()=>{ render(); });

      startGame();
    })();
  </script>
</body>
</html>
